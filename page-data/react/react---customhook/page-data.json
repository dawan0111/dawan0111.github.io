{"componentChunkName":"component---src-templates-blog-post-js","path":"/react/react---customhook/","result":{"data":{"site":{"siteMetadata":{"title":"ğŸ“• ì •ë¦¬ë…¸íŠ¸","author":"ê¹€ëŒ€ì™„","siteUrl":"https://dawan0111.github.io","comment":{"disqusShortName":"","utterances":"dawan0111/dawan0111.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"f6c326e9-eea5-51ea-a585-873a8bbf0e0a","excerpt":"ì»´í¬ë¨¼íŠ¸ì˜ ë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(Higher-Order Components)ë¥¼ ì‚¬ìš©í•´ì™”ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ  custom hookìœ¼ë¡œ ë” ê°„í¸í•˜ê²Œ ìƒíƒœê´€ë¦¬ ë¡œì§ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆ1) React ê³µì‹ë¬¸ì„œ ì˜ˆì œ ìœ„ ì½”ë“œëŠ” ì™¸ë¶€ë¡œë¶€í„° ë°ì´í„°ë¥¼ êµ¬ë…í•˜ì—¬ ëŒ“ê¸€ëª©ë¡ì„ ë Œë”ë§í•˜ëŠ” CommentList ì»´í¬ë¨¼íŠ¸ ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë°‘ì—ëŠ” ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ êµ¬ë…ì„ í•˜ê¸°ìœ„í•´ ë¹„ìŠ·í•œ íŒ¨í„´ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•˜ê²Œ ë©ë‹ˆë‹¤. ìœ„ ìƒí™©ì€ HOCë¥¼ ì‚¬ìš©í•´ ì¤‘ë³µì„ ì œê±° í•  ìˆ˜ë„ ìˆì§€ë§Œ custom hookâ€¦","html":"<p>ì»´í¬ë¨¼íŠ¸ì˜ ë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(Higher-Order Components)ë¥¼ ì‚¬ìš©í•´ì™”ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ  custom hookìœ¼ë¡œ ë” ê°„í¸í•˜ê²Œ ìƒíƒœê´€ë¦¬ ë¡œì§ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2 id=\"ì˜ˆ1-react-ê³µì‹ë¬¸ì„œ-ì˜ˆì œ\" style=\"position:relative;\"><a href=\"#%EC%98%881-react-%EA%B3%B5%EC%8B%9D%EB%AC%B8%EC%84%9C-%EC%98%88%EC%A0%9C\" aria-label=\"ì˜ˆ1 react ê³µì‹ë¬¸ì„œ ì˜ˆì œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì˜ˆ1) React ê³µì‹ë¬¸ì„œ ì˜ˆì œ</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// CommentList.js</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CommentList</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleChange</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      comments<span class=\"token operator\">:</span> DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getComments</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">addChangeListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentWillUnmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">removeChangeListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      comments<span class=\"token operator\">:</span> DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getComments</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>comments<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">comment</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>Comment comment<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>comment<span class=\"token punctuation\">}</span> key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>comment<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ ì½”ë“œëŠ” ì™¸ë¶€ë¡œë¶€í„° ë°ì´í„°ë¥¼ êµ¬ë…í•˜ì—¬ ëŒ“ê¸€ëª©ë¡ì„ ë Œë”ë§í•˜ëŠ” <strong>CommentList</strong> ì»´í¬ë¨¼íŠ¸ ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë°‘ì—ëŠ” ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ êµ¬ë…ì„ í•˜ê¸°ìœ„í•´ ë¹„ìŠ·í•œ íŒ¨í„´ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// BlogPost.js</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BlogPost</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleChange</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      blogPost<span class=\"token operator\">:</span> DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getBlogPost</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">addChangeListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentWillUnmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">removeChangeListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      blogPost<span class=\"token operator\">:</span> DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getBlogPost</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>TextBlock text<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>blogPost<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ ìƒí™©ì€ HOCë¥¼ ì‚¬ìš©í•´ ì¤‘ë³µì„ ì œê±° í•  ìˆ˜ë„ ìˆì§€ë§Œ <strong>custom hook</strong> ì„ ë§Œë“¤ì–´ì„œ ì²˜ë¦¬ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. custom hookìœ¼ë¡œ ì²˜ë¦¬ì‹œ HOCë³´ë‹¤ ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"hocì™€-ë¹„êµí–ˆì„ë•Œ-custom-hookì˜-ì¥ì \" style=\"position:relative;\"><a href=\"#hoc%EC%99%80-%EB%B9%84%EA%B5%90%ED%96%88%EC%9D%84%EB%95%8C-custom-hook%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"hocì™€ ë¹„êµí–ˆì„ë•Œ custom hookì˜ ì¥ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HOCì™€ ë¹„êµí–ˆì„ë•Œ custom hookì˜ ì¥ì </h3>\n<ol>\n<li>Wrapper Hellì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n<li>ë”ìš± ê°„í¸í•˜ê²Œ ìƒíƒœê´€ë¦¬ ë¡œì§ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ol>\n<p>HOCë¥¼ ì‚¬ìš©í•˜ë©´ ê²°êµ­ì€ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•´ì„œ ê°ì‹¸ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ ê°ì‹¸ë‹¤ ë³´ë©´ wrapper hellì´ ë°œìƒí•˜ê²Œ ë ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  hookì„ ë§Œë“¤ë©´ ë³„ ë‹¤ë¥¸ ì‘ì—…ì—†ì´ React í•¨ìˆ˜ì•ˆì—ì„œëŠ” í¸í•˜ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•´ ì§‘ë‹ˆë‹¤. ì´ì œ custom hookì„ ë§Œë“¤ì–´ì„œ ìœ„ ì˜ˆì œë¥¼ ì¢€ ë” í¸í•˜ê²Œ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.</p>\n<h2 id=\"custom-hook-ì‚¬ìš©\" style=\"position:relative;\"><a href=\"#custom-hook-%EC%82%AC%EC%9A%A9\" aria-label=\"custom hook ì‚¬ìš© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>custom hook ì‚¬ìš©</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// SubscribeData.js</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">useSubscribeData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> fetchData<span class=\"token punctuation\">,</span> id <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> handleChange <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>fetchData<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">addChangeListener</span><span class=\"token punctuation\">(</span>handleChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">removeChangeListener</span><span class=\"token punctuation\">(</span>handleChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>handleChange<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>fetchData<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nuseSubscribeData<span class=\"token punctuation\">.</span>defaultProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ ì²˜ëŸ¼ custom hooksì„ ë§Œë“­ë‹ˆë‹¤. custom hooks ì•ˆì—ì„œë„ ë˜‘ê°™ì´ useEffectë‚˜ useStateë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ ë§Œë“  SubscribeData hookì„ ì‚¬ìš©í•´ ë´…ì‹œë‹¤. ë¦¬í„´ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ë„ ìˆì§€ë§Œ í•¨ìˆ˜ë¥¼ returní•´ì„œ stateë¥¼ ë³€ê²½ í•˜ëŠ”ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// CommentList.js</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">CommentList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> fetchData <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getComments</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> comments <span class=\"token operator\">=</span> <span class=\"token function\">useSubscribeData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    fetchData<span class=\"token operator\">:</span> fetchData\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>comments<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">comment</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>div comment<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>comment<span class=\"token punctuation\">}</span> key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>comment<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// BlogList.js</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">BlogList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> fetchData <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> DataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getBlogPost</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> post <span class=\"token operator\">=</span> <span class=\"token function\">useSubscribeData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    fetchData<span class=\"token operator\">:</span> fetchData<span class=\"token punctuation\">,</span>\n    id<span class=\"token operator\">:</span> id\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token keyword\">this</span> is post<span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ì œ ì†ì‰½ê²Œ componentë¥¼ ì¶”ê°€í•˜ì§€ ì•Šì•„ë„ ìƒíƒœê´€ë¦¬ ë¡œì§ì€ ì»´í¬ë„ŒíŠ¸ë¼ë¦¬ ê³µìœ ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<h2 id=\"ì°¸ê³ í•œ-ìë£Œ\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%ED%95%9C-%EC%9E%90%EB%A3%8C\" aria-label=\"ì°¸ê³ í•œ ìë£Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³ í•œ ìë£Œ</h2>\n<p><a href=\"https://reactjs.org/docs/hooks-custom.html\">react ê³µì‹ë¬¸ì„œ</a></p>","frontmatter":{"title":"react - custom hook ì‚¬ìš©í•˜ê¸°","date":"December 23, 2019"}}},"pageContext":{"slug":"/react/react---customhook/","previous":{"fields":{"slug":"/javascript/javascript---promise/"},"frontmatter":{"title":"javascript - ë™ê¸°/ë¹„ë™ê¸°","category":"javascript"}},"next":{"fields":{"slug":"/javascript/ì›¹ ì›Œì»¤(Web worker)ë¡œ DOM ì—…ë°ì´íŠ¸ ê°œì„ /"},"frontmatter":{"title":"ì›¹ ì›Œì»¤(Web worker)ë¡œ DOM ì—…ë°ì´íŠ¸ ê°œì„ ","category":"javascript"}}}},"staticQueryHashes":["3128451518","96099027"]}